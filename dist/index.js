(()=>{"use strict";(()=>{const{log:n,error:e,table:t,time:r,timeEnd:i,timeStamp:o,timeLog:a,assert:d,clear:u,count:c,countReset:l,group:f,groupCollapsed:s,groupEnd:v,trace:g,profile:p,profileEnd:h,warn:m,debug:y,info:E,dir:w,dirxml:L}=console;function D(n,e){var t;if(!e)return document.querySelector(n);return(null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.includes("-"))?e.shadowRoot.querySelector(n):e.querySelector(n)}function F(n,e){n.classList.add(e)}function R(n,e){n.classList.remove(e)}function x(n){return Array.from(n)}var S=function(n,e,t,r){return new(t||(t=Promise))((function(i,o){function a(n){try{u(r.next(n))}catch(n){o(n)}}function d(n){try{u(r.throw(n))}catch(n){o(n)}}function u(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,d)}u((r=r.apply(n,e||[])).next())}))};function b(n,e){const{type:t}=n;var r,i;return(r=t,i="/",r.split(i))[0]===e}function q(n){return new Promise(((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.addEventListener("load",(()=>{const n=r.result;"string"!=typeof n?t("Error: Base64 string not found."):e(n)})),r.addEventListener("error",(()=>{t("Error: Failed to read audio file.")}))}))}var P=function(n,e,t,r){return new(t||(t=Promise))((function(i,o){function a(n){try{u(r.next(n))}catch(n){o(n)}}function d(n){try{u(r.throw(n))}catch(n){o(n)}}function u(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,d)}u((r=r.apply(n,e||[])).next())}))};n("Hello world!");const A=D("input"),T=D("label");function U(){R(T,"invalid-drop"),R(T,"invalid-img-drop"),R(T,"invalid-img-upload")}A.addEventListener("change",(function(n){return P(this,void 0,void 0,(function*(){U();try{const t=n.currentTarget,r=yield function(n){return S(this,void 0,void 0,(function*(){try{const e=x(n.files);return 1===e.length?e[0]:e}catch(n){e({fileRetrievalError:n})}}))}(t);if(!b(r,"image"))throw F(T,"invalid-img-upload"),"File uploaded is not an image!";yield q(r)}catch(n){e("File upload error:",{fileUploadError:n}),R(T,"dragging")}}))})),T.addEventListener("dragover",(function(n){n.preventDefault(),U(),F(T,"dragging")})),T.addEventListener("dragleave",(function(n){n.preventDefault(),U(),R(T,"dragging")})),T.addEventListener("drop",(function(t){return P(this,void 0,void 0,(function*(){t.preventDefault(),n(t),U();try{const r=yield function(n){return S(this,void 0,void 0,(function*(){try{const e=x(n.dataTransfer.files);return e.length<=1?e[0]:e}catch(n){e({fileRetrievalError:n})}}))}(t);if(!r)throw F(T,"invalid-drop"),"Data dropped is not a file!";if(!b(r,"image"))throw F(T,"invalid-img-drop"),"File dropped is not an image!";n(r);yield q(r)}catch(n){e("File drop error:",{fileDropError:n}),F(T,"invalid-drop"),R(T,"dragging")}}))}))})()})();